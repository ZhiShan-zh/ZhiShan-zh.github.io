# 句法分析

**句法分析**是对句子或短语结构进行分析，以确定构成句子的各个词、短语之间的关系以及各自在句子中的作用等，将这些关系用层次结构加以表达，并对句法结构进行规范化。

分析自然语言的方法主要分为两类：

- 基于规则的方法
  - 如：乔姆斯基的形式文法
- 基于统计的方法

# 1 乔姆斯基的形式文法

在计算机科学中，**形式语言**是某个字母表上一些有限字串的集合，而**形式文法**是描述这个集合的一种方法。形式文法之所以这样命名，是因为它与人类自然语言中的文法相似的缘故。

**形式文法描述形式语言的基本想法**是，从一个特殊的初始符号出发，不断的应用一些产生式规则，从而生成出一个字串的集合。

**产生式规则**指定了某些符号组合如何被另外一些符号组合替换。

最常见的文法分类是乔姆斯基（N.Chomsky）在1950年根据形式文法中所使用的规则集提出的。它定义了下列四种形式的文法：

- 0型文法：短语结构文法；
- 1型文法：上下文有关文法；
- 2型文法：上下文无关文法；
- 3型文法：正则文法

型号愈高所受约束愈多，能表达的语言集就越小，也就是说型号越高描述能力就越弱。但由于上下文无关文法和正则文法能够高效率地实现，称为四类文法中最重要的两种文法类型。

## 1.1 短语结构文法：0型文法

因为短语结构文法对产生式规则的两边不作任何限制，所以是一种非受限文法，是乔姆斯基体系中生成能力最强的一种形式文法，能够描述任何语言。

**使用范围**：短语结构文法是描述自然语言和程序设计语言强有力的形式化工具，可用于计算机上对被分析句子的形式化进行描述和分析。

短语结构文法**形式化定义**：`G = (T, N, S, P)`

- T：终结符的集合，终结符是指被定义的那个语言的词（或符号）；
- N：非终结符号的集合，这些符号是专门用来描述文法的，不能出现在最终生成的句子中；
  - T和N不相交，$T \cap N = \oslash$，T和N共同组成了符号集$V = T \cup N$
- $S \in N$是起始符；
- P：产生式规则集；P中每条产生式规则表示为：$a \rightarrow b$
  - $ a \in V^+b, \in V^*, a \neq b$
  - $V^*$表示有V中的符号所构成的全部符号串（包括空符号串$\oslash$）的集合；
  - $V^+$表示$V^*$中除了空符号串$\oslash$之外的一切符号串的集合。

在短语结构文法中，**基本运算**是把一个符号串重写为另一个符号串。如果$a \rightarrow b$是一条产生式规则，那么就可以通过用b来置换a，重写任何一个包含子串a的符号串，这个过程记为$\Rightarrow$.

短语结构文法G生成的语言记为L(G)。以不同的顺序使用产生式规则，可以从同一符号产生去多不同的串。**一个符号串属于L(G)必须满足一下两个条件**：

- 该符号串只包含终结符；
- 该符号串能根据短语结构文法G从起始符S推导出来。

短语结构文法的**标准型**为$A \rightarrow \xi, A \rightarrow BC, A \rightarrow \oslash, AB \rightarrow CD$，其中，$\xi \in (T \cup N), A,B,C,D \in N, \oslash$是空字。

例如：

> G = (T, N, S, P)
>
> T = {the, man, killed, a, deer, likes}
>
> N = {S, NP, VP, N, ART, V, prep, PP}
>
> S = S
>
> P：
>
> (1) $S \rightarrow NP + VP$
>
> (2) $NP \rightarrow N$
>
> (3) $NP \rightarrow ART + N$
>
> (4) $VP \rightarrow V$
>
> (5) $VP \rightarrow V + NP$
>
> (6) $ART \rightarrow the | a$
>
> (7) $N \rightarrow man | deer$
>
> (8) $V \rightarrow killed | likes$

都短语结构文法中的产生式做某些限制，就得到上下文有关文法、上下文无法文法和正则文法。

## 1.2 上下文无关文法：1型文法

自然语言一般是一种与上下文有关的语言，需要用上下文有关文法描述。

**上下文有关文法是一种满足以下约束的短语结构文法**：对于一条形式为$x \rightarrow y$的产生式，y的长度（即符号串y中的符号个数）总是大于或等于x的长度，而且$x, y \in V^*$。

例如：

> $AB \rightarrow CDE$是上下文有关文法中一条合法的产生式，但是$ABC \rightarrow DE$不是合法的产生式。

这一约束可以保证上下文有关文法是递归的。这样，如果编写一个程序，在读入一个字符串后能最终判断这个字符串是否为由这种文法所定义的语言中的一个句子。

上下文有关：指的是对非终结符进行替换时需要考虑该符号所处的上下文环境，但要求规则的右部符号的个数不少于左部，以确保语言的递归性。

例如：

> 对于产生式$aAb \rightarrow ayb$，($A \in N, y \neq \oslash$, a和b不能同时为$\oslash$)，当y替换A时，智能在上下文为a和b时才可进行。