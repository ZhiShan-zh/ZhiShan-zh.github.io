# 数组

**基本类型**：整形、字符型、实型

**构造类型**：数组类型、结构体类型、共用体类型

构造类型数据是由基本类型数据按照一定的规则组成的，因此它们又称为“**导出类型**”。**数组**是有序数据的集合。数组中的每一个元素都属于同一个数据类型。

# 1 一维数组的定义和引用

## 1.1 一维数组的定义

一维数组的定义方式为：`数组说明符 数组名[常量表达式];`

例如：`int a[10];`

说明：

> 1. 数组名的命名规则和变量名相同，遵循标识符命名规则；
>
> 2. 在定义数组是，需要指定数组中元素的个数，方括号中的常量表达式用来表示元素的个数，即数组的长度。例如，指定`a[10]`，表示a数组有10个元素。注意，**下标的从0开始的**。注意，按照上边的定义，不存在数组元素`a[10]`。
>
> 3. 常量表示大中可以包含常量和符号常量，不能包含变量。也就是说，C语言不允许对数组的大小作动态定义，即**数组的大小不依赖于程序运行过程中变量的值**。例如：下边定义的数组是不行的：
>
>    ```c
>    //在程序中临时输入数组的大小是不可行的
>    int n;
>    scanf("%d", &n);
>    int a[n];
>    ```

## 1.2 一维数组元素的引用

数组必须先定义，然后使用。C语言规定**只能逐个引用数组元素而不能一次引用整个数组**。

数组元素的表达形式为：`数组名[下标]`

- 下标：可以是整型常量或整形表达式。
  - 如：`a[0] = a[5] + a[7] - a[2*3];`

注意：定义数组时用到的“数组名[常量表达式]“和引用数组元素时用到的”数组名[下标]“的区别：

```c
int a[10];//定义数组长度为10
t = a[6];//引用a数组中序号为6的元素。此时6不代表数组长度
```

## 1.3 一维数组的初始化

对数组元素的初始化可以用以下方法实现：

1. 在定义数组时对数组元素赋予初值。例如：`int a[5] = {0, 1, 2, 3, 4};`

2. 在定义数组时可以只给前一部分元素赋值，后边没有赋予值得元素自动赋予初始值，如int数组得初始值为0。例如：`int a[5] = {0, 1, 2};`和`int a[5] = {0, 1, 2, 0, 0};`的效果一样。

3. 如果想在定义数组使一个数组中全部元素的值为0，可以写成：`int a[5] = {0, 0, 0, 0, 0};`或`int a[5] = {0};`，但不能写成`int a[5] = {0*10};`

4. 在对全部数组元素赋初值时，由于数据的个数已经确定，因此可以不指定数组长度。例如：`int a[5] = {0, 1, 2, 3, 4};`的效果和`int a[] = {0, 1, 2, 3, 4};`是一样的。但是如果数组长度与提供初值的个数不相同，则数组长度不能省略。例如，想定义数组长度为5，就不能省略数组长度的定义，必须写成：`int a[5] = {0, 1, 2};`，这值初始化前边3个元素，后边两个元素为0。

5. 如果数组已经定义，则不能对数组元素进行整体赋值，只能单个元素进行赋值。

   ```C
   int a[5];
   a = {0, 1, 2, 3, 4};//这样是不对的
   
   int a[5];
   a[0] = 0;//如果数组已经定义，则只能对单个元素进行赋值
   a[1] = 1;
   a[2] = 2;
   a[3] = 3;
   a[4] = 4;
   ```

## 1.4 数组和指针

- **从定义角度看**：数组是一个符号，不是变量，因而没有自己对应的存储空间。但是，指针是一个变量，里面存储的内容是另外一个变量的地址，因为是变量所以指针有自己的内存空间，只不过里面存储的内容比较特殊。

- 对于声明和定义，指针和数组是不相同的，定义为数组，则声明也应该是数组，不可混淆
- **当作下标操作符时，指针和数组是等价的**。a[i]会被编译器翻译成*(a+i)。
- **当数组声明被用作函数形参的时候，数组实际会被当作指针来使用**。

