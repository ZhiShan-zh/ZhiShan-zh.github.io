# 结构体和共用体

C语言中允许用户自己指定这样一种数据结构，它称为结构体（strcture）。它相当于其他高级语言中的”记录“。

声明一个结构体类型的一般形式为：

```c
struct 结构体名{
    成员列表
};
```

结构体名：用作结构体类型的标志，它又称”结构体标记“（structure tag）。

示例：

```c
struct student{
    int num;
    char name[20];
    char sex;
    int age;
    float score;
    char addr[30];
};
```

注意：不要忽略最后的分号。

# 1 定义结构体类型变量的方法

1. 先声明结构体类型再定义变量

   如上边已经定义了一个结构体类型`struct student`，可以用它来定义变量，例如：`struct student stu1,stu2;`，stu1和stu2都是结构体变量名。

2. 在声明类型的同时定义变量，其一般形式为：

   ```c
   struct 结构体名{
       成员列表
   }变量名列表;
   ```

   例如：

   ```c
   struct student{
       int num;
       char name[20];
       char sex;
       int age;
       float score;
       char addr[30];
   }stu1,stu2;
   ```

3. 直接定义结构体类型变量，其一般形式为：（不出现结构体名）

   ```c
   struct {
       成员列表
   }变量名列表;
   ```

说明：

1. 类型和变量是不同的概念，不要混同。只能对变量赋值、存取或运算，而不能对一个类型赋值、存取或运算。在编译时，对类型时不分配空间的，只对变量分配空间。
2. 对结构体中的成员（即”域“），可以单独使用，它的作用与地位相当于普通变量。
3. 成员也可以是一个结构体变量。
4. 成员名可以与程序中的变量名相同，二者不代表同一对象。

# 2 结构体变量的引用

在定义了结构体变量以后，当然可以引用这个变量。但要遵循以下原则：

1. 不能将一个结构体变量作为一个整体进行输入和输出。只能对结构体变量中的每个成员分别进行输入和输出。引用结构体变量中成员的方式为：`结构体变量.成员名`。`.`是成员（分量）运算符，它在所有的运算符中优先级最高。
2. 如果成员本身又属一个结构体类型，则要用若干个成员运算符，一级一级地找到最低的一级的成员。只能对最低级的成员进行赋值或存取以及运算。
3. 对结构体变量的成员可以像普通变量一样进行各种运算（根据其类型决定可以进行的运算）。